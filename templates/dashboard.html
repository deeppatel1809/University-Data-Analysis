<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Data Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <header>
        <nav class="py-4">
            <h1 class="logo mb-0">Uni<span>Data</span></h1>
            <ul class="nav-links mb-0">
                <li><a href="/">Home</a></li>
                <li><a href="/dashboard">Dashboard</a></li>
            </ul>
        </nav>
    </header>
    <section class="dashboard">
        <h2 class="mb-5 text-white">Select Analysis Type</h2>
        <div class="cards">
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal1">
                <p class="fs-5 fw-bold">👨‍🏫 Employee Distribution</p>
                <p>Evaluate faculty distribution, retention, and workload.</p>
            </div>
            <div class="modal modal-xl fade" id="modal1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Employee Distribution Across Departments</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/employee_distribution.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal2">
                <p class="fs-5 fw-bold">👨‍🏫 Employee Age Groups</p>
                <p>Analyze the age demographics of employees to assess retention trends and workload distribution.</p>
            </div>
            <div class="modal modal-xl fade" id="modal2">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Employee Age Group Distribution</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/employee_age_distribution.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal3">
                <p class="fs-5 fw-bold">👨‍🏫 Employee Age Vs Experience</p>
                <p>Analyze the age demographics of employees to assess retention trends and workload distribution.</p>
            </div>
            <div class="modal modal-xl fade" id="modal3">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Employee Age Vs Experience</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/age_vs_experience.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal4">
                <p class="fs-5 fw-bold">📈 Student Admissions</p>
                <p>Review student admission trends, enrollment rates, and demographic insights.</p>
            </div>
            <div class="modal modal-xl fade" id="modal4">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Students Admissions By Year</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/total_student_admissions_by_year.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal5">
                <p class="fs-5 fw-bold">📈 Students Admissions Across Departments</p>
                <p>Analyze student admission trends across various departments to assess enrollment patterns and growth.</p>
            </div>
            <div class="modal modal-xl fade" id="modal5">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Students Admissions Across Departments</p>
                            <div class="dropdown">
                                <button class="btn btn-outline-light text-dark dropdown-toggle" type="button" data-bs-toggle="dropdown">Select Department</button>
                                <ul class="dropdown-menu">
                                    {% for department in data['department_names'] %}
                                        <li><a class="dropdown-item" href="#" onclick="updateImage('{{ department }}')">{{ department }}</a></li>
                                    {% endfor %}
                                </ul>
                              </div>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img id="departmentImage" src="" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal6">
                <p class="fs-5 fw-bold">🎓 Students Distribution Across Courses</p>
                <p>Analyze student enrollment in different courses.</p>
            </div>
            <div class="modal modal-xl fade" id="modal6">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Students Distribution Across Courses</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/course_popularity.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal7">
                <p class="fs-5 fw-bold">🏫 Total Admissions Across Departments</p>
                <p>Monitor total student admissions across all departments to assess enrollment trends.</p>
            </div>
            <div class="modal modal-xl fade" id="modal7">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Total Admissions Across Departments</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/total_admissions_by_department.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal8">
                <p class="fs-5 fw-bold">👩‍🏫 Student-Teacher Ratio by Department</p>
                <p>Compare student-teacher ratio across departments.</p>
            </div>
            <div class="modal modal-xl fade" id="modal8">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Student-Teacher Ratio by Department</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/student_teacher_ratio_by_department.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal9">
                <p class="fs-5 fw-bold">🚻 Gender Ratio</p>
                <p>Compare male-female student distribution across departments.</p>
            </div>
            <div class="modal modal-xl fade" id="modal9">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Gender Ratio Across Departments</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/gender_ratio_by_department.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal10">
                <p class="fs-5 fw-bold">📚 Course Popularity</p>
                <p>Analyze top courses.</p>
            </div>
            <div class="modal modal-xl fade" id="modal10">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Course Popularity Ranking</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <table class="table table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th>Rank</th>
                                        <th>Course Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for course in data['top_courses']%}
                                    <tr>
                                        <td>{{ course.sr }}</td>
                                        <td>{{ course.Department_Name }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal11">
                <p class="fs-5 fw-bold">📊 Textual Analysis</p>
                <p>View summary statistics and insights.</p>
            </div>
            <div class="modal modal-xl fade" id="modal11">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Textual Analysis Summary</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <table class="table">
                                <tr>
                                    <td><h5>Average Age of Employees:</h5></td>
                                    <td>{{ data['textual_analysis']['avg_age'] }} years</td>
                                </tr>
                                <tr>
                                    <td><h5>Average Experience of Employees:</h5></td>
                                    <td>{{ data['textual_analysis']['avg_experience'] }} years</td>
                                </tr>
                                <tr>
                                    <td><h5>Department with Highest Admissions:</h5></td>
                                    <td>{{ data['textual_analysis']['highest_admissions_dept'] }}</td>
                                </tr>
                                <tr>
                                    <td><h5>Department with Lowest Admissions:</h5></td>
                                    <td>{{ data['textual_analysis']['lowest_admissions_dept'] }}</td>
                                </tr>
                                <tr>
                                    <td><h5>Overall Gender Distribution:</h5></td>
                                    <td>Male: {{ data['textual_analysis']['overall_gender_distribution']['Male'] }} Female: {{ data['textual_analysis']['overall_gender_distribution']['Female'] }}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card px-1 py-3" data-bs-toggle="modal" data-bs-target="#modal12">
                <p class="fs-5 fw-bold">🎓 Student Counseling</p>
                <p>Track counseling sessions and support trends.</p>
            </div>
            <div class="modal modal-xl fade" id="modal12">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p class="modal-title fs-5 fw-bold">Student Choices</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <img src="{{ url_for('static', filename='charts/student_choices_vs_admissions.png') }}" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer>
        <p class="m-0">© 2025 University Data Analysis</p>
    </footer>
    <script>
        function updateImage(department)
        {
            const departmentImage = document.getElementById('departmentImage');
            department = department.replace(/\s+/g, '')
            const imageUrl = `/static/charts/student_admissions_by_department_${department}.png`;
            departmentImage.src = imageUrl;
        }
    </script>
</body>
</html>